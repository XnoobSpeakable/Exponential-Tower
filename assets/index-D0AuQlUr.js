var Y=(v,n)=>()=>(n||v((n={exports:{}}).exports,n),n.exports);var $=Y((K,R)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))N(d);new MutationObserver(d=>{for(const E of d)if(E.type==="childList")for(const O of E.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&N(O)}).observe(document,{childList:!0,subtree:!0});function w(d){const E={};return d.integrity&&(E.integrity=d.integrity),d.referrerPolicy&&(E.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?E.credentials="include":d.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function N(d){if(d.ep)return;d.ep=!0;const E=w(d);fetch(d.href,E)}})();(function(v){var n={maxOps:1e3,serializeMode:0,debug:0},w="[ExpantaNumError] ",N=w+"Invalid argument: ",d=/^[-\+]*(Infinity|NaN|(J+|J\^\d+ )?(10(\^+|\{[1-9]\d*\})|\(10(\^+|\{[1-9]\d*\})\)\^[1-9]\d* )*((\d+(\.\d*)?|\d*\.\d+)?([Ee][-\+]*))*(0|\d+(\.\d*)?|\d*\.\d+))$/,E=9007199254740991,O=Math.log10(E),o={},s={},m={};m.ZERO=0,m.ONE=1,m.E=Math.E,m.LN2=Math.LN2,m.LN10=Math.LN10,m.LOG2E=Math.LOG2E,m.LOG10E=Math.LOG10E,m.PI=Math.PI,m.SQRT1_2=Math.SQRT1_2,m.SQRT2=Math.SQRT2,m.MAX_SAFE_INTEGER=E,m.MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER,m.NaN=Number.NaN,m.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,m.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,m.E_MAX_SAFE_INTEGER="e"+E,m.EE_MAX_SAFE_INTEGER="ee"+E,m.TETRATED_MAX_SAFE_INTEGER="10^^"+E,m.GRAHAMS_NUMBER="J^63 10^^^(10^)^7625597484984 3638334640023.7783",o.absoluteValue=o.abs=function(){var r=this.clone();return r.sign=1,r},s.absoluteValue=s.abs=function(r){return new n(r).abs()},o.negate=o.neg=function(){var r=this.clone();return r.sign=r.sign*-1,r},s.negate=s.neg=function(r){return new n(r).neg()},o.compareTo=o.cmp=function(r){if(r instanceof n||(r=new n(r)),isNaN(this.array[0][1])||isNaN(r.array[0][1]))return NaN;if(this.array[0][1]==1/0&&r.array[0][1]!=1/0)return this.sign;if(this.array[0][1]!=1/0&&r.array[0][1]==1/0)return-r.sign;if(this.array.length==1&&this.array[0][1]===0&&r.array.length==1&&r.array[0][1]===0)return 0;if(this.sign!=r.sign)return this.sign;var e=this.sign,t;if(this.layer>r.layer)t=1;else if(this.layer<r.layer)t=-1;else{for(var a,i,l=0,f=Math.min(this.array.length,r.array.length);l<f;++l)if(a=this.array[this.array.length-1-l],i=r.array[r.array.length-1-l],a[0]>i[0]||a[0]==i[0]&&a[1]>i[1]){t=1;break}else if(a[0]<i[0]||a[0]==i[0]&&a[1]<i[1]){t=-1;break}t===void 0&&(this.array.length==r.array.length?t=0:this.array.length>r.array.length?(a=this.array[this.array.length-f],a[0]>=1||a[1]>10?t=1:t=-1):(a=r.array[r.array.length-f],a[0]>=1||a[1]>10?t=-1:t=1))}return t*e},s.compare=s.cmp=function(r,e){return new n(r).cmp(e)},o.greaterThan=o.gt=function(r){return this.cmp(r)>0},s.greaterThan=s.gt=function(r,e){return new n(r).gt(e)},o.greaterThanOrEqualTo=o.gte=function(r){return this.cmp(r)>=0},s.greaterThanOrEqualTo=s.gte=function(r,e){return new n(r).gte(e)},o.lessThan=o.lt=function(r){return this.cmp(r)<0},s.lessThan=s.lt=function(r,e){return new n(r).lt(e)},o.lessThanOrEqualTo=o.lte=function(r){return this.cmp(r)<=0},s.lessThanOrEqualTo=s.lte=function(r,e){return new n(r).lte(e)},o.equalsTo=o.equal=o.eq=function(r){return this.cmp(r)===0},s.equalsTo=s.equal=s.eq=function(r,e){return new n(r).eq(e)},o.notEqualsTo=o.notEqual=o.neq=function(r){return this.cmp(r)!==0},s.notEqualsTo=s.notEqual=s.neq=function(r,e){return new n(r).neq(e)},o.minimum=o.min=function(r){return this.lt(r)?this.clone():new n(r)},s.minimum=s.min=function(r,e){return new n(r).min(e)},o.maximum=o.max=function(r){return this.gt(r)?this.clone():new n(r)},s.maximum=s.max=function(r,e){return new n(r).max(e)},o.compareTo_tolerance=o.cmp_tolerance=function(r,e){return r instanceof n||(r=new n(r)),this.eq_tolerance(r,e)?0:this.cmp(r)},s.compare_tolerance=s.cmp_tolerance=function(r,e,t){return new n(r).cmp_tolerance(e,t)},o.greaterThan_tolerance=o.gt_tolerance=function(r,e){return r instanceof n||(r=new n(r)),!this.eq_tolerance(r,e)&&this.gt(r)},s.greaterThan_tolerance=s.gt_tolerance=function(r,e,t){return new n(r).gt_tolerance(e,t)},o.greaterThanOrEqualTo_tolerance=o.gte_tolerance=function(r,e){return r instanceof n||(r=new n(r)),this.eq_tolerance(r,e)||this.gt(r)},s.greaterThanOrEqualTo_tolerance=s.gte_tolerance=function(r,e,t){return new n(r).gte_tolerance(e,t)},o.lessThan_tolerance=o.lt_tolerance=function(r,e){return r instanceof n||(r=new n(r)),!this.eq_tolerance(r,e)&&this.lt(r)},s.lessThan_tolerance=s.lt_tolerance=function(r,e,t){return new n(r).lt_tolerance(e,t)},o.lessThanOrEqualTo_tolerance=o.lte_tolerance=function(r,e){return r instanceof n||(r=new n(r)),this.eq_tolerance(r,e)||this.lt(r)},s.lessThanOrEqualTo_tolerance=s.lte_tolerance=function(r,e,t){return new n(r).lte_tolerance(e,t)},o.equalsTo_tolerance=o.equal_tolerance=o.eq_tolerance=function(r,e){if(r instanceof n||(r=new n(r)),e==null&&(e=1e-7),this.isNaN()||r.isNaN()||this.isFinite()!=r.isFinite()||this.sign!=r.sign||Math.abs(this.layer-r.layer)>1)return!1;var t,a;if(this.layer!=r.layer){var i,l;if(this.layer>r.layer?(i=this,l=r):(i=r,l=this),!(i.array.length==2&&i.array[0][0]===0&&i.array[1][0]==1&&i.array[1][1]==1))return!1;t=i.array[0][1],l.array[l.array.length-1][1]>=10?a=Math.log10(l.array[l.array.length-1][0]+1):a=Math.log10(l.array[l.array.length-1][0])}else{if(Math.abs(this.array[this.array.length-1][0]-r.array[r.array.length-1][0])>1)return!1;for(var f=1;Math.max(this.array.length,r.array.length)-f>=0;++f){var u=this.array[this.array.length-f][0],g=r.array[r.array.length-f][0],i,l,y,c;if(u!=g)u>g?(i=this,l=r):(i=r,l=this,u=g),y=i.array[i.array.length-f][1],c=0;else if(i=this,l=r,y=i.array[i.array.length-f][1],c=l.array[l.array.length-f][1],i.array.length-f==0){t=y,a=c;break}if(Math.abs(y-c)>1)return!1;if(y!=c){if(!(i.array.length-f<2||i.array.length-f==2&&i.array[0][0]===0&&i.array[1][0]==1&&i.array[1][1]==1))return!1;t=i.array[0][1],u==1?a=Math.log10(l.operator(0)):u==2&&l.operator(0)>=1e10?a=Math.log10(l.operator(1)+2):l.operator(u-2)>=10?a=Math.log10(l.operator(u-1)+1):a=Math.log10(l.operator(u-1));break}}}return Math.abs(t-a)<=e*Math.max(Math.abs(t),Math.abs(a))},s.equalsTo_tolerance=s.equal_tolerance=s.eq_tolerance=function(r,e,t){return new n(r).eq_tolerance(e,t)},o.notEqualsTo_tolerance=o.notEqual_tolerance=o.neq_tolerance=function(r,e){return!this.eq_tolerance(r,e)},s.notEqualsTo_tolerance=s.notEqual_tolerance=s.neq_tolerance=function(r,e,t){return new n(r).neq_tolerance(e,t)},o.isPositive=o.ispos=function(){return this.gt(n.ZERO)},s.isPositive=s.ispos=function(r){return new n(r).ispos()},o.isNegative=o.isneg=function(){return this.lt(n.ZERO)},s.isNegative=s.isneg=function(r){return new n(r).isneg()},o.isNaN=function(){return isNaN(this.array[0][1])},s.isNaN=function(r){return new n(r).isNaN()},o.isFinite=function(){return isFinite(this.array[0][1])},s.isFinite=function(r){return new n(r).isFinite()},o.isInfinite=function(){return this.array[0][1]==1/0},s.isInfinite=function(r){return new n(r).isInfinite()},o.isInteger=o.isint=function(){return this.sign==-1?this.abs().isint():this.gt(n.MAX_SAFE_INTEGER)?!0:Number.isInteger(this.toNumber())},s.isInteger=s.isint=function(r){return new n(r).isint()},o.floor=function(){return this.isInteger()?this.clone():new n(Math.floor(this.toNumber()))},s.floor=function(r){return new n(r).floor()},o.ceiling=o.ceil=function(){return this.isInteger()?this.clone():new n(Math.ceil(this.toNumber()))},s.ceiling=s.ceil=function(r){return new n(r).ceil()},o.round=function(){return this.isInteger()?this.clone():new n(Math.round(this.toNumber()))},s.round=function(r){return new n(r).round()};var q=!1;o.plus=o.add=function(r){var e=this.clone();if(r=new n(r),n.debug>=n.NORMAL&&(console.log(this+"+"+r),q||(console.warn(w+"Debug output via 'debug' is being deprecated and will be removed in the future!"),q=!0)),e.sign==-1)return e.neg().add(r.neg()).neg();if(r.sign==-1)return e.sub(r.neg());if(e.eq(n.ZERO))return r;if(r.eq(n.ZERO))return e;if(e.isNaN()||r.isNaN()||e.isInfinite()&&r.isInfinite()&&e.eq(r.neg()))return n.NaN.clone();if(e.isInfinite())return e;if(r.isInfinite())return r;var t=e.min(r),a=e.max(r),i=a.operator(0),l=a.operator(1),f;if(a.gt(n.E_MAX_SAFE_INTEGER)||a.div(t).gt(n.MAX_SAFE_INTEGER))f=a;else if(!l)f=new n(e.toNumber()+r.toNumber());else if(l==1){var u=t.operator(1)?t.operator(0):Math.log10(t.operator(0));f=new n([u+Math.log10(Math.pow(10,i-u)+1),1])}return t=a=null,f},s.plus=s.add=function(r,e){return new n(r).add(e)},o.minus=o.sub=function(r){var e=this.clone();if(r=new n(r),n.debug>=n.NORMAL&&console.log(e+"-"+r),e.sign==-1)return e.neg().sub(r.neg()).neg();if(r.sign==-1)return e.add(r.neg());if(e.eq(r))return n.ZERO.clone();if(r.eq(n.ZERO))return e;if(e.isNaN()||r.isNaN()||e.isInfinite()&&r.isInfinite())return n.NaN.clone();if(e.isInfinite())return e;if(r.isInfinite())return r.neg();var t=e.min(r),a=e.max(r),i=r.gt(e),l=a.operator(0),f=a.operator(1),u;if(a.gt(n.E_MAX_SAFE_INTEGER)||a.div(t).gt(n.MAX_SAFE_INTEGER))u=a,u=i?u.neg():u;else if(!f)u=new n(e.toNumber()-r.toNumber());else if(f==1){var g=t.operator(1)?t.operator(0):Math.log10(t.operator(0));u=new n([g+Math.log10(Math.pow(10,l-g)-1),1]),u=i?u.neg():u}return t=a=null,u},s.minus=s.sub=function(r,e){return new n(r).sub(e)},o.times=o.mul=function(r){var e=this.clone();if(r=new n(r),n.debug>=n.NORMAL&&console.log(e+"*"+r),e.sign*r.sign==-1)return e.abs().mul(r.abs()).neg();if(e.sign==-1)return e.abs().mul(r.abs());if(e.isNaN()||r.isNaN()||e.eq(n.ZERO)&&r.isInfinite()||e.isInfinite()&&r.abs().eq(n.ZERO))return n.NaN.clone();if(r.eq(n.ZERO))return n.ZERO.clone();if(r.eq(n.ONE))return e.clone();if(e.isInfinite())return e;if(r.isInfinite())return r;if(e.max(r).gt(n.EE_MAX_SAFE_INTEGER))return e.max(r);var t=e.toNumber()*r.toNumber();return t<=E?new n(t):n.pow(10,e.log10().add(r.log10()))},s.times=s.mul=function(r,e){return new n(r).mul(e)},o.divide=o.div=function(r){var e=this.clone();if(r=new n(r),n.debug>=n.NORMAL&&console.log(e+"/"+r),e.sign*r.sign==-1)return e.abs().div(r.abs()).neg();if(e.sign==-1)return e.abs().div(r.abs());if(e.isNaN()||r.isNaN()||e.isInfinite()&&r.isInfinite()||e.eq(n.ZERO)&&r.eq(n.ZERO))return n.NaN.clone();if(r.eq(n.ZERO))return n.POSITIVE_INFINITY.clone();if(r.eq(n.ONE))return e.clone();if(e.eq(r))return n.ONE.clone();if(e.isInfinite())return e;if(r.isInfinite())return n.ZERO.clone();if(e.max(r).gt(n.EE_MAX_SAFE_INTEGER))return e.gt(r)?e.clone():n.ZERO.clone();var t=e.toNumber()/r.toNumber();if(t<=E)return new n(t);var a=n.pow(10,e.log10().sub(r.log10())),i=a.floor();return a.sub(i).lt(new n(1e-9))?i:a},s.divide=s.div=function(r,e){return new n(r).div(e)},o.reciprocate=o.rec=function(){return n.debug>=n.NORMAL&&console.log(this+"^-1"),this.isNaN()||this.eq(n.ZERO)?n.NaN.clone():this.abs().gt("2e323")?n.ZERO.clone():new n(1/this)},s.reciprocate=s.rec=function(r){return new n(r).rec()},o.modular=o.mod=function(r){return r=new n(r),r.eq(n.ZERO)?n.ZERO.clone():this.sign*r.sign==-1?this.abs().mod(r.abs()).neg():this.sign==-1?this.abs().mod(r.abs()):this.sub(this.div(r).floor().mul(r))},s.modular=s.mod=function(r,e){return new n(r).mod(e)};var B=function(r){if(!isFinite(r))return r;if(r<-50)return r==Math.trunc(r)?Number.NEGATIVE_INFINITY:0;for(var e=1;r<10;)e=e*r,++r;r-=1;var t=.9189385332046727;t+=(r+.5)*Math.log(r),t-=r;var a=r*r,i=r;return t+=1/(12*i),i*=a,t-=1/(360*i),i*=i*a,t+=1/(1260*i),i*=a,t-=1/(1680*i),i*=a,t+=1/(1188*i),i*=a,t-=691/(360360*i),i*=a,t+=7/(1092*i),i*=a,t-=3617/(122400*i),Math.exp(t)/e};o.gamma=function(){var r=this.clone();if(r.gt(n.TETRATED_MAX_SAFE_INTEGER))return r;if(r.gt(n.E_MAX_SAFE_INTEGER))return n.exp(r);if(r.gt(n.MAX_SAFE_INTEGER))return n.exp(n.mul(r,n.ln(r).sub(1)));var e=r.operator(0);if(e>1){if(e<24)return new n(B(r.sign*e));var t=e-1,a=.9189385332046727;a+=(t+.5)*Math.log(t),a-=t;var i=t*t,l=t,f=12*l,u=1/f,g=a+u;if(g==a||(a=g,l*=i,f=360*l,u=1/f,g=a-u,g==a))return n.exp(a);a=g,l*=i,f=1260*l;var y=1/f;return a+=y,l*=i,f=1680*l,y=1/f,a-=y,n.exp(a)}else return this.rec()},s.gamma=function(r){return new n(r).gamma()},s.factorials=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,121645100408832e3,243290200817664e4,5109094217170944e4,11240007277776077e5,2585201673888498e7,6204484017332394e8,15511210043330986e9,40329146112660565e10,10888869450418352e12,30488834461171387e13,8841761993739702e15,26525285981219107e16,8222838654177922e18,2631308369336935e20,8683317618811886e21,29523279903960416e22,10333147966386145e24,37199332678990125e25,13763753091226346e27,5230226174666011e29,20397882081197444e30,8159152832478977e32,3345252661316381e34,140500611775288e37,6041526306337383e37,2658271574788449e39,11962222086548019e40,5502622159812089e42,25862324151116818e43,12413915592536073e45,6082818640342675e47,30414093201713376e48,15511187532873822e50,8065817517094388e52,42748832840600255e53,2308436973392414e56,12696403353658276e57,7109985878048635e59,40526919504877214e60,23505613312828785e62,13868311854568984e64,832098711274139e67,5075802138772248e68,3146997326038794e70,198260831540444e73,12688693218588417e73,8247650592082472e75,5443449390774431e77,3647111091818868e79,24800355424368305e80,1711224524281413e83,11978571669969892e84,8504785885678623e86,61234458376886085e87,44701154615126844e89,3307885441519386e92,248091408113954e95,18854947016660504e95,14518309202828587e97,11324281178206297e99,8946182130782976e101,7156945704626381e103,5797126020747368e105,4753643337012842e107,3945523969720659e109,3314240134565353e111,281710411438055e114,24227095383672734e114,2107757298379528e117,18548264225739844e118,1650795516090846e121,14857159644817615e122,1352001527678403e125,12438414054641308e126,11567725070816416e128,1087366156656743e131,1032997848823906e133,9916779348709496e134,9619275968248212e136,9426890448883248e138,9332621544394415e140,9332621544394415e142,942594775983836e145,9614466715035127e146,990290071648618e149,10299016745145628e150,1081396758240291e153,11462805637347084e154,1226520203196138e157,1324641819451829e159,14438595832024937e160,1588245541522743e163,17629525510902446e164,1974506857221074e167,22311927486598138e168,25435597334721877e170,2925093693493016e173,3393108684451898e175,3969937160808721e177,4684525849754291e179,5574585761207606e181,6689502913449127e183,8094298525273444e185,9875044200833601e187,1214630436702533e190,1506141741511141e192,1882677176888926e194,2372173242880047e196,30126600184576594e197,3856204823625804e200,4974504222477287e202,6466855489220474e204,847158069087882e207,11182486511960043e208,14872707060906857e210,19929427461615188e212,26904727073180504e214,3659042881952549e217,5012888748274992e219,6917786472619489e221,9615723196941089e223,13462012475717526e225,1898143759076171e228,2695364137888163e230,3854370717180073e232,55502938327393044e233,8047926057471992e236,11749972043909107e238,1727245890454639e241,25563239178728654e242,380892263763057e246,5713383956445855e247,862720977423324e250,13113358856834524e251,20063439050956823e253,30897696138473508e255,4789142901463394e258,7471062926282894e260,11729568794264145e262,1853271869493735e265,29467022724950384e266,47147236359920616e268,7590705053947219e271,12296942187394494e273,20044015765453026e275,3287218585534296e278,5423910666131589e280,9003691705778438e282,1503616514864999e285,25260757449731984e286,4269068009004705e289,7257415615307999e291],o.factorial=o.fact=function(){var r=this.clone(),e=n.factorials;if(r.lt(n.ZERO)||!r.isint())return r.add(1).gamma();if(r.lte(170))return new n(e[+r]);var t=1;return r.div(n.E).pow(r).mul(r.mul(n.PI).mul(2).sqrt()).times(t)},s.factorial=s.fact=function(r){return new n(r).fact()},o.toPower=o.pow=function(r){if(r=new n(r),n.debug>=n.NORMAL&&console.log(this+"^"+r),r.eq(n.ZERO))return n.ONE.clone();if(r.eq(n.ONE))return this.clone();if(r.lt(n.ZERO))return this.pow(r.neg()).rec();if(this.lt(n.ZERO)&&r.isint())return r.mod(2).lt(n.ONE)?this.abs().pow(r):this.abs().pow(r).neg();if(this.lt(n.ZERO))return n.NaN.clone();if(this.eq(n.ONE))return n.ONE.clone();if(this.eq(n.ZERO))return n.ZERO.clone();if(this.max(r).gt(n.TETRATED_MAX_SAFE_INTEGER))return this.max(r);if(this.eq(10))return r.gt(n.ZERO)?(r.operator(1,r.operator(1)+1||1),r.normalize(),r):new n(Math.pow(10,r.toNumber()));if(r.lt(n.ONE))return this.root(r.rec());var e=Math.pow(this.toNumber(),r.toNumber());return e<=E?new n(e):n.pow(10,this.log10().mul(r))},s.toPower=s.pow=function(r,e){return new n(r).pow(e)},o.exponential=o.exp=function(){return n.pow(Math.E,this)},s.exponential=s.exp=function(r){return n.pow(Math.E,r)},o.squareRoot=o.sqrt=function(){return this.root(2)},s.squareRoot=s.sqrt=function(r){return new n(r).root(2)},o.cubeRoot=o.cbrt=function(){return this.root(3)},s.cubeRoot=s.cbrt=function(r){return new n(r).root(3)},o.root=function(r){return r=new n(r),n.debug>=n.NORMAL&&console.log(this+"root"+r),r.eq(n.ONE)?this.clone():r.lt(n.ZERO)?this.root(r.neg()).rec():r.lt(n.ONE)?this.pow(r.rec()):this.lt(n.ZERO)&&r.isint()&&r.mod(2).eq(n.ONE)?this.neg().root(r).neg():this.lt(n.ZERO)?n.NaN.clone():this.eq(n.ONE)?n.ONE.clone():this.eq(n.ZERO)?n.ZERO.clone():this.max(r).gt(n.TETRATED_MAX_SAFE_INTEGER)?this.gt(r)?this.clone():n.ZERO.clone():n.pow(10,this.log10().div(r))},s.root=function(r,e){return new n(r).root(e)},o.generalLogarithm=o.log10=function(){var r=this.clone();return n.debug>=n.NORMAL&&console.log("log"+this),r.lt(n.ZERO)?n.NaN.clone():r.eq(n.ZERO)?n.NEGATIVE_INFINITY.clone():r.lte(n.MAX_SAFE_INTEGER)?new n(Math.log10(r.toNumber())):!r.isFinite()||r.gt(n.TETRATED_MAX_SAFE_INTEGER)?r:(r.operator(1,r.operator(1)-1),r.normalize())},s.generalLogarithm=s.log10=function(r){return new n(r).log10()},o.logarithm=o.logBase=function(r){return r===void 0&&(r=Math.E),this.log10().div(n.log10(r))},s.logarithm=s.logBase=function(r,e){return new n(r).logBase(e)},o.naturalLogarithm=o.log=o.ln=function(){return this.logBase(Math.E)},s.naturalLogarithm=s.log=s.ln=function(r){return new n(r).ln()};var x=.5671432904097838,S=function(r,e,t){e===void 0&&(e=1e-10),t===void 0&&(t=!0);var a;if(!Number.isFinite(r))return r;if(t){if(r===0)return r;if(r===1)return x;r<10?a=0:a=Math.log(r)-Math.log(Math.log(r))}else{if(r===0)return-1/0;r<=-.1?a=-2:a=Math.log(-r)-Math.log(-Math.log(-r))}for(var i=0;i<100;++i){var l=(r*Math.exp(-a)+a*a)/(a+1);if(Math.abs(l-a)<e*Math.abs(l))return l;a=l}throw Error("Iteration failed to converge: "+r)},F=function(r,e,t){e===void 0&&(e=1e-10),t===void 0&&(t=!0),r=new n(r);var a;if(!r.isFinite())return r;if(t){if(r.eq(n.ZERO))return r;if(r.eq(n.ONE))return new n(x);a=n.ln(r)}else{if(r.eq(n.ZERO))return n.NEGATIVE_INFINITY.clone();a=n.ln(r.neg())}for(var i=0;i<100;++i){var l=a.neg().exp(),f=a.sub(r.mul(l)),u=a.add(n.ONE).sub(a.add(2).mul(f).div(n.mul(2,a).add(2)));if(u.eq(n.ZERO))return a;var g=a.sub(f.div(u));if(n.abs(g.sub(a)).lt(n.abs(g).mul(e)))return g;a=g}throw Error("Iteration failed to converge: "+r)};o.lambertw=function(r){r===void 0&&(r=!0);var e=this.clone();return e.isNaN()?e:e.lt(-.3678794411710499)?n.NaN.clone():r?e.gt(n.TETRATED_MAX_SAFE_INTEGER)?e:e.gt(n.EE_MAX_SAFE_INTEGER)?(e.operator(1,e.operator(1)-1),e):e.gt(n.MAX_SAFE_INTEGER)?F(e):new n(S(e.sign*e.operator(0))):e.ispos()?n.NaN.clone():e.abs().gt(n.EE_MAX_SAFE_INTEGER)?e.neg().recip().lambertw().neg():e.abs().gt(n.MAX_SAFE_INTEGER)?F(e,1e-10,!1):new n(S(e.sign*e.operator(0),1e-10,!1))},s.lambertw=function(r,e){return new n(r).lambertw(e)},o.tetrate=o.tetr=function(r,e){e===void 0&&(e=n.ONE);var t=this.clone();r=new n(r),e=new n(e),e.neq(n.ONE)&&(r=r.add(e.slog(t))),n.debug>=n.NORMAL&&console.log(t+"^^"+r);var a;if(t.isNaN()||r.isNaN()||e.isNaN())return n.NaN.clone();if(r.isInfinite()&&r.sign>0)return t.gte(Math.exp(1/Math.E))?n.POSITIVE_INFINITY.clone():(a=t.ln().neg(),a.lambertw().div(a));if(r.lte(-2))return n.NaN.clone();if(t.eq(n.ZERO))return r.eq(n.ZERO)?n.NaN.clone():r.mod(2).eq(n.ZERO)?n.ZERO.clone():n.ONE.clone();if(t.eq(n.ONE))return r.eq(n.ONE.neg())?n.NaN.clone():n.ONE.clone();if(r.eq(n.ONE.neg()))return n.ZERO.clone();if(r.eq(n.ZERO))return n.ONE.clone();if(r.eq(n.ONE))return t;if(r.eq(2))return t.pow(t);if(t.eq(2)){if(r.eq(3))return new n(16);if(r.eq(4))return new n(65536)}var i=t.max(r);if(i.gt("10^^^"+E))return i;if(i.gt(n.TETRATED_MAX_SAFE_INTEGER)||r.gt(n.MAX_SAFE_INTEGER)){if(this.lt(Math.exp(1/Math.E)))return a=t.ln().neg(),a.lambertw().div(a);var l=t.slog(10).add(r);return l.operator(2,(l.operator(2)||0)+1),l.normalize(),l}for(var f=r.toNumber(),u=Math.floor(f),g=t.pow(f-u),y=n.NaN,c=0,h=new n(n.E_MAX_SAFE_INTEGER);u!==0&&g.lt(h)&&c<100;++c)if(u>0){if(g=t.pow(g),y.eq(g)){u=0;break}y=g,--u}else{if(g=g.logBase(t),y.eq(g)){u=0;break}y=g,++u}return(c==100||this.lt(Math.exp(1/Math.E)))&&(u=0),g.operator(1,g.operator(1)+u||u),g.normalize(),g},s.tetrate=s.tetr=function(r,e,t){return new n(r).tetr(e,t)},o.iteratedexp=function(r,e){return this.tetr(r,e)},s.iteratedexp=function(r,e,t){return new n(r).iteratedexp(e,t)},o.iteratedlog=function(r,e){r===void 0&&(r=10),e===void 0&&(e=n.ONE.clone());var t=this.clone();return r=new n(r),e=new n(e),e.eq(n.ZERO)?t:e.eq(n.ONE)?t.logBase(r):r.tetr(t.slog(r).sub(e))},s.iteratedlog=function(r,e,t){return new n(r).iteratedlog(e,t)},o.layeradd=function(r,e){e===void 0&&(e=10),r===void 0&&(r=n.ONE.clone());var t=this.clone();return e=new n(e),r=new n(r),e.tetr(t.slog(e).add(r))},s.layeradd=function(r,e,t){return new n(r).layeradd(e,t)},o.layeradd10=function(r){return this.layeradd(r)},s.layeradd10=function(r,e){return new n(r).layeradd10(e)},o.ssqrt=o.ssrt=function(){var r=this.clone();if(r.lt(Math.exp(-1/Math.E)))return n.NaN.clone();if(!r.isFinite()||r.gt(n.TETRATED_MAX_SAFE_INTEGER))return r;if(r.gt(n.EE_MAX_SAFE_INTEGER))return r.operator(1,r.operator(1)-1),r;var e=r.ln();return e.div(e.lambertw())},s.ssqrt=s.ssrt=function(r){return new n(r).ssqrt()},o.slog=function(r){r===void 0&&(r=10);var e=new n(this);if(r=new n(r),e.isNaN()||r.isNaN()||e.isInfinite()&&r.isInfinite())return n.NaN.clone();if(e.isInfinite())return e;if(r.isInfinite())return n.ZERO.clone();if(e.lt(n.ZERO))return n.ONE.neg();if(e.eq(n.ONE))return n.ZERO.clone();if(e.eq(r))return n.ONE.clone();if(r.lt(Math.exp(1/Math.E))){var t=n.tetr(r,1/0);if(e.eq(t))return n.POSITIVE_INFINITY.clone();if(e.gt(t))return n.NaN.clone()}if(e.max(r).gt("10^^^"+E))return e.gt(r)?e:n.ZERO.clone();if(e.max(r).gt(n.TETRATED_MAX_SAFE_INTEGER))return e.gt(r)?(e.operator(2,e.operator(2)-1),e.normalize(),e.sub(e.operator(1))):n.ZERO.clone();var a=0,i=(e.operator(1)||0)-(r.operator(1)||0);if(i>3){var l=i-3;a+=l,e.operator(1,e.operator(1)-l)}for(var f=0;f<100;++f)if(e.lt(n.ZERO))e=n.pow(r,e),--a;else{if(e.lte(1))return new n(a+e.toNumber()-1);++a,e=n.logBase(e,r)}if(e.gt(10))return new n(a)},s.slog=function(r,e){return new n(r).slog(e)},o.pentate=o.pent=function(r){return this.arrow(3)(r)},s.pentate=s.pent=function(r,e){return n.arrow(r,3,e)},o.arrow=function(r){var e=this.clone();return r=new n(r),!r.isint()||r.lt(n.ZERO)?function(t){return n.NaN.clone()}:r.eq(n.ZERO)?function(t){return e.mul(t)}:r.eq(n.ONE)?function(t){return e.pow(t)}:r.eq(2)?function(t){return e.tetr(t)}:function(t){var a;arguments.length==2?a=arguments[1]:a=0,t=new n(t);var i;if(n.debug>=n.NORMAL&&console.log(e+"{"+r+"}"+t),e.isNaN()||t.isNaN()||t.lt(n.ZERO))return n.NaN.clone();if(e.eq(n.ZERO))return t.eq(n.ONE)?n.ZERO.clone():n.NaN.clone();if(e.eq(n.ONE)||t.eq(n.ZERO))return n.ONE.clone();if(t.eq(n.ONE))return e.clone();if(r.gt(n.MAX_SAFE_INTEGER))return i=r.clone(),i.layer++,i;var l=r.toNumber();if(t.eq(2))return e.arrow(l-1)(e,a+1);if(e.max(t).gt("10{"+(l+1)+"}"+E))return e.max(t);if(e.gt("10{"+l+"}"+E)||t.gt(n.MAX_SAFE_INTEGER)){e.gt("10{"+l+"}"+E)?(i=e.clone(),i.operator(l,i.operator(l)-1),i.normalize()):e.gt("10{"+(l-1)+"}"+E)?i=new n(e.operator(l-1)):i=n.ZERO;var f=i.add(t);return f.operator(l,(f.operator(l)||0)+1),f.normalize(),f}if(a>=n.maxOps+10)return new n([[0,10],[l,1]]);var u=t.toNumber(),g=Math.floor(u),y=r.sub(n.ONE);i=e.arrow(y)(u-g,a+1);for(var c=0,h=new n("10{"+(l-1)+"}"+E);g!==0&&i.lt(h)&&c<100;++c)g>0&&(i=e.arrow(y)(i,a+1),--g);return c==100&&(g=0),i.operator(l-1,i.operator(l-1)+g||g),i.normalize(),i}},o.chain=function(r,e){return this.arrow(e)(r)},s.arrow=function(r,e,t){return new n(r).arrow(e)(t)},s.chain=function(r,e,t){return new n(r).arrow(t)(e)},s.hyper=function(r){return r=new n(r),r.eq(n.ZERO)?function(e,t){return new n(t).eq(n.ZERO)?new n(e):new n(e).add(n.ONE)}:r.eq(n.ONE)?function(e,t){return n.add(e,t)}:function(e,t){return new n(e).arrow(r.sub(2))(t)}},o.expansion=function(r){var e=this.clone();r=new n(r);var t;if(n.debug>=n.NORMAL&&console.log("{"+e+","+r+",1,2}"),r.lte(n.ZERO)||!r.isint())return n.NaN.clone();if(r.eq(n.ONE))return e.clone();if(!e.isint())return n.NaN.clone();if(e.eq(2))return new n(4);if(r.gt(n.MAX_SAFE_INTEGER))return n.POSITIVE_INFINITY.clone();var a=r.toNumber()-1;t=e;for(var i=0;a!==0&&t.lt(n.MAX_SAFE_INTEGER)&&i<100;++i)a>0&&(t=e.arrow(t)(e),--a);return i==100&&(a=0),t.layer+=a,t.normalize(),t},s.expansion=function(r,e){return new n(r).expansion(e)},s.affordGeometricSeries=function(r,e,t,a){r=new n(r),e=new n(e),t=new n(t);var i=e.mul(t.pow(a));return n.floor(r.div(i).mul(t.sub(n.ONE)).add(n.ONE).log10().div(t.log10()))},s.affordArithmeticSeries=function(r,e,t,a){r=new n(r),e=new n(e),t=new n(t),a=new n(a);var i=e.add(a.mul(t)),l=i.sub(t.div(2)),f=l.pow(2);return l.neg().add(f.add(t.mul(r).mul(2)).sqrt()).div(t).floor()},s.sumGeometricSeries=function(r,e,t,a){return e=new n(e),t=new n(t),e.mul(t.pow(a)).mul(n.sub(n.ONE,t.pow(r))).div(n.sub(n.ONE,t))},s.sumArithmeticSeries=function(r,e,t,a){r=new n(r),e=new n(e),a=new n(a);var i=e.add(a.mul(t));return r.div(2).mul(i.mul(2).plus(r.sub(n.ONE).mul(t)))},s.choose=function(r,e){return new n(r).factorial().div(new n(e).factorial().mul(new n(r).sub(new n(e)).factorial()))},o.choose=function(r){return n.choose(this,r)},o.normalize=function(){var r,e=this;if(n.debug>=n.ALL&&console.log(e.toString()),(!e.array||!e.array.length)&&(e.array=[[0,0]]),e.sign!=1&&e.sign!=-1&&(typeof e.sign!="number"&&(e.sign=Number(e.sign)),e.sign=e.sign<0?-1:1),e.layer>E)return e.array=[[0,1/0]],e.layer=0,e;Number.isInteger(e.layer)&&(e.layer=Math.floor(e.layer));for(var t=0;t<e.array.length;++t){var a=e.array[t];if((a[0]===null||a[0]===void 0)&&(a[0]=0),a[0]!==0&&(a[1]===0||a[1]===null||a[1]===void 0)){e.array.splice(t,1),--t;continue}if(isNaN(a[0])||isNaN(a[1]))return e.array=[[0,NaN]],e;if(!isFinite(a[0])||!isFinite(a[1]))return e.array=[[0,1/0]],e;Number.isInteger(a[0])||(a[0]=Math.floor(a[0])),a[0]!==0&&!Number.isInteger(a[1])&&(a[1]=Math.floor(a[1]))}do{for(n.debug>=n.ALL&&console.log(e.toString()),r=!1,e.array.sort(function(i,l){return i[0]>l[0]?1:i[0]<l[0]?-1:0}),e.array.length>n.maxOps&&e.array.splice(0,e.array.length-n.maxOps),e.array.length||(e.array=[[0,0]]),e.array[e.array.length-1][0]>E?(e.layer++,e.array=[[0,e.array[e.array.length-1][0]]],r=!0):e.layer&&e.array.length==1&&e.array[0][0]===0&&(e.layer--,e.array[0][1]===0?e.array=[[0,10]]:e.array=[[0,10],[Math.round(e.array[0][1]),1]],r=!0),e.array.length<n.maxOps&&e.array[0][0]!==0&&e.array.unshift([0,10]),t=0;t<e.array.length-1;++t)e.array[t][0]==e.array[t+1][0]&&(e.array[t][1]+=e.array[t+1][1],e.array.splice(t+1,1),--t,r=!0);for(e.array[0][0]===0&&e.array[0][1]>E&&(e.array.length>=2&&e.array[1][0]==1?e.array[1][1]++:e.array.splice(1,0,[1,1]),e.array[0][1]=Math.log10(e.array[0][1]),r=!0);e.array.length>=2&&e.array[0][0]===0&&e.array[0][1]<O&&e.array[1][0]==1&&e.array[1][1];)e.array[0][1]=Math.pow(10,e.array[0][1]),e.array[1][1]>1?e.array[1][1]--:e.array.splice(1,1),r=!0;for(;e.array.length>=2&&e.array[0][0]===0&&e.array[0][1]==1&&e.array[1][1];)e.array[1][1]>1?e.array[1][1]--:e.array.splice(1,1),e.array[0][1]=10;for(e.array.length>=2&&e.array[0][0]===0&&e.array[1][0]!=1&&(e.array[0][1]&&e.array.splice(1,0,[e.array[1][0]-1,e.array[0][1]]),e.array[0][1]=1,e.array[2][1]>1?e.array[2][1]--:e.array.splice(2,1),r=!0),t=1;t<e.array.length;++t)e.array[t][1]>E&&(t!=e.array.length-1&&e.array[t+1][0]==e.array[t][0]+1?e.array[t+1][1]++:e.array.splice(t+1,0,[e.array[t][0]+1,1]),e.array[0][0]===0?e.array[0][1]=e.array[t][1]+1:e.array.splice(0,0,[0,e.array[t][1]+1]),e.array.splice(1,t),r=!0)}while(r);return e.array.length||(e.array=[[0,0]]),e};var Z=!1;o.standardize=function(){return Z||(console.warn(w+"'standardize' method is being deprecated in favor of 'normalize' and will be removed in the future!"),Z=!0),this.normalize()},o.toNumber=function(){return this.sign==-1?-1*this.abs():this.array.length>=2&&(this.array[1][0]>=2||this.array[1][1]>=2||this.array[1][1]==1&&this.array[0][1]>Math.log10(Number.MAX_VALUE))?1/0:this.array.length>=2&&this.array[1][1]==1?Math.pow(10,this.array[0][1]):this.array[0][1]},o.toString=function(){if(this.sign==-1)return"-"+this.abs();if(isNaN(this.array[0][1]))return"NaN";if(!isFinite(this.array[0][1]))return"Infinity";var r="";if(this.layer?this.layer<3?r+="J".repeat(this.layer):r+="J^"+this.layer+" ":r+="",this.array.length>=3||this.array.length==2&&this.array[1][0]>=2)for(var e=this.array.length-1;e>=2;--e){var t=this.array[e],a=t[0]>=5?"{"+t[0]+"}":"^".repeat(t[0]);t[1]>1?r+="(10"+a+")^"+t[1]+" ":t[1]==1&&(r+="10"+a)}var i=this.operator(0),l=this.operator(1);return l?l<3?r+="e".repeat(l-1)+Math.pow(10,i-Math.floor(i))+"e"+Math.floor(i):l<8?r+="e".repeat(l)+i:r+="(10^)^"+l+" "+i:r+=String(i),r};var M=function(e,t){var a=t+1,i=Math.ceil(Math.log10(Math.abs(e)));i<100&&(i=0);var l=Math.round(e*Math.pow(10,a-i))*Math.pow(10,i-a);return parseFloat(l.toFixed(Math.max(a-i,0)))};o.toStringWithDecimalPlaces=function(r,e){if(this.sign==-1)return"-"+this.abs();if(isNaN(this.array[0][1]))return"NaN";if(!isFinite(this.array[0][1]))return"Infinity";var t=0,a="",i=Math.pow(10,r);if(this.layer?this.layer<3?a+="J".repeat(this.layer):a+="J^"+this.layer+" ":a+="",this.array.length>=3||this.array.length==2&&this.array[1][0]>=2)for(var l=this.array.length-1;!t&&l>=2;--l){var f=this.array[l],u=f[0],g=f[1];e&&g>=i?(++u,t=g,g=1):e&&this.array[l-1][0]==u-1&&this.array[l-1][1]>=i&&(++g,t=this.array[l-1][1]);var y=u>=5?"{"+u+"}":"^".repeat(u);g>1?a+="(10"+y+")^"+g+" ":g==1&&(a+="10"+y)}var c=this.operator(0),h=this.operator(1);return c>i&&(c=Math.log10(c),++h),t?a+=M(t,r):h?h<3?a+="e".repeat(h-1)+M(Math.pow(10,c-Math.floor(c)),r)+"e"+M(Math.floor(c),r):h<8?a+="e".repeat(h)+M(c,r):e?a+="(10^)^"+M(h,r)+" "+M(c,r):a+="(10^)^"+h+" "+M(c,r):a+=String(M(c,r)),a},o.toExponential=function(r,e){return this.array.length==1?(this.sign*this.array[0][1]).toExponential(r):this.toStringWithDecimalPlaces(r,e)},o.toFixed=function(r,e){return this.array.length==1?(this.sign*this.array[0][1]).toFixed(r):this.toStringWithDecimalPlaces(r,e)},o.toPrecision=function(r,e){return this.array[0][1]===0?(this.sign*this.array[0][1]).toFixed(r-1,e):this.array.length==1&&this.array[0][1]<1e-6?this.toExponential(r-1,e):this.array.length==1&&r>Math.log10(this.array[0][1])?this.toFixed(r-Math.floor(Math.log10(this.array[0][1]))-1,e):this.toExponential(r-1,e)},o.valueOf=function(){return this.toString()},o.toJSON=function(){if(n.serializeMode==n.JSON){for(var r=[],e=0;e<this.array.length;++e)r.push([this.array[e][0],this.array[e][1]]);return{array:r,layer:this.layer,sign:this.sign}}else if(n.serializeMode==n.STRING)return this.toString()},o.toHyperE=function(){if(this.layer)throw Error(w+"Sorry, but this prototype doesn't support correct Hyper-E notation for numbers larger than 10{MSI}10");if(this.sign==-1)return"-"+this.abs().toHyperE();if(isNaN(this.array[0][1]))return"NaN";if(!isFinite(this.array[0][1]))return"Infinity";if(this.lt(n.MAX_SAFE_INTEGER))return String(this.array[0][1]);if(this.lt(n.E_MAX_SAFE_INTEGER))return"E"+this.array[0][1];for(var r="E"+this.operator(0)+"#"+this.operator(1),e=1,t=Math.ceil(this.getOperatorIndex(2));t<this.array.length;++t)e+1<this.array[t][0]&&(r+="#1".repeat(this.array[t][0]-e-1)),e=this.array[t][0],r+="#"+(this.array[t][1]+1);return this.layer?this.layer<3?r="J".repeat(this.layer)+r:r="J^"+this.layer+" "+r:r=""+r,r},s.fromNumber=function(r){if(typeof r!="number")throw Error(N+"Expected Number");var e=new n;return e.array[0][1]=Math.abs(r),e.sign=r<0?-1:1,e.normalize(),e};var J=function(e){for(var t=BigInt(64);e>=BigInt(1)<<t;)t*=BigInt(2);for(var a=t/BigInt(2);a>BigInt(0);)e>=BigInt(1)<<t?t+=a:t-=a,a/=BigInt(2);var i=t-BigInt(54),l=e>>i;return Math.log10(Number(l))+Math.LOG10E/Math.LOG2E*Number(i)};s.fromBigInt=function(r){if(typeof r!="bigint")throw Error(N+"Expected BigInt");var e=new n,t=r<BigInt(0)?-r:r;return e.sign=r<BigInt(0)?-1:1,t<=E?e.array[0][1]=Number(t):e.array=[[0,J(t)],[1,1]],e.normalize(),e};var p=17,G=function(e){return Math.log10(Number(e.substring(0,p)))+(e.length-p)};s.fromString=function(r){if(typeof r!="string")throw Error(N+"Expected String");var e=!1;if(typeof r=="string"&&(r[0]=="["||r[0]=="{"))try{JSON.parse(r)}finally{e=!0}if(e)return n.fromJSON(r);var t=new n;if(t.array=[[0,0]],!d.test(r))return console.warn(w+"Malformed input: "+r),t.array=[[0,NaN]],t;var a=!1;if(r[0]=="-"||r[0]=="+"){var i=r.search(/[^-\+]/),l=r.substring(0,i);a=l.match(/-/g).length%2==1,r=r.substring(i)}if(r=="NaN")t.array=[[0,NaN]];else if(r=="Infinity")t.array=[[0,1/0]];else{var f,u,g,y,c;for(r[0]=="J"&&(r[1]=="^"?(f=r.substring(2).search(/[^0-9]/)+2,t.layer=Number(r.substring(2,f)),r=r.substring(f+1)):(f=r.search(/[^J]/),t.layer=f,r=r.substring(f)));r&&/^\(?10[\^\{]/.test(r);){r[0]=="("&&(r=r.substring(1));var h;r[2]=="^"?(f=r.substring(2).search(/[^\^]/),h=f,u=f+2):(f=r.indexOf("}"),h=Number(r.substring(3,f)),u=f+1),r=r.substring(u),r[0]==")"?(f=r.indexOf(" "),g=Number(r.substring(2,f)),r=r.substring(f+1)):g=1,h==1?t.array.length>=2&&t.array[1][0]==1?t.array[1][1]+=g:t.array.splice(1,0,[1,g]):h==2?(f=t.array.length>=2&&t.array[1][0]==1?t.array[1][1]:0,u=t.array[0][1],u>=1e10&&++f,u>=10&&++f,t.array[0][1]=f,t.array.length>=2&&t.array[1][0]==1&&t.array.splice(1,1),y=t.getOperatorIndex(2),Number.isInteger(y)?t.array[y][1]+=g:t.array.splice(Math.ceil(y),0,[2,g])):(f=t.operator(h-1),u=t.operator(h-2),u>=10&&++f,y=t.getOperatorIndex(h),t.array.splice(1,Math.ceil(y)-1),t.array[0][1]=f,Number.isInteger(y)?t.array[1][1]+=g:t.array.splice(1,0,[h,g]))}for(f=r.split(/[Ee]/),u=[t.array[0][1],0],g=1,c=f.length-1;c>=0;--c){u[0]<O&&u[1]===0?u[0]=Math.pow(10,g*u[0]):g==-1?(u[1]===0?u[0]=Math.pow(10,g*u[0]):u[1]==1&&u[0]<=Math.log10(Number.MAX_VALUE)?u[0]=Math.pow(10,g*Math.pow(10,u[0])):u[0]=0,u[1]=0):u[1]++;var _=f[c].indexOf("."),I=_==-1?f[c].length:_;u[1]===0?I>=p?(u[0]=Math.log10(u[0])+G(f[c].substring(0,I)),u[1]=1):f[c]&&(u[0]*=Number(f[c])):(y=I>=p?G(f[c].substring(0,I)):f[c]?Math.log10(Number(f[c])):0,u[1]==1?u[0]+=y:u[1]==2&&u[0]<O+Math.log10(y)&&(u[0]+=Math.log10(1+Math.pow(10,Math.log10(y)-u[0])))),u[0]<O&&u[1]?(u[0]=Math.pow(10,u[0]),u[1]--):u[0]>E&&(u[0]=Math.log10(u[0]),u[1]++)}t.array[0][1]=u[0],u[1]&&(t.array.length>=2&&t.array[1][0]==1?t.array[1][1]+=u[1]:t.array.splice(1,0,[1,u[1]]))}return a&&(t.sign*=-1),t.normalize(),t},s.fromArray=function(r,e,t){var a,i;if(r instanceof Array&&(e===void 0||typeof e=="number")&&(t===void 0||typeof t=="number"))a=r,i=e;else if(typeof r=="number"&&e instanceof Array&&(t===void 0||typeof t=="number"))a=e,i=r;else if(typeof r=="number"&&typeof e=="number"&&t instanceof Array)a=t,i=r;else throw Error(N+"Expected an Array [and 1 or 2 Number]");var l=new n,f;if(!a.length)l.array=[[0,0]];else if(typeof a[0]=="number")for(l.array=[],f=0;f<a.length;f++){if(typeof a[f]!="number")throw Error(N+"Expected Array of Number");l.array.push([f,a[f]])}else if(a[0]instanceof Array)for(l.array=[],f=0;f<a.length;f++){if(!(a[f]instanceof Array)||typeof a[f][0]!="number"||typeof a[f][1]!="number")throw Error(N+"Expected Array of pair of Number");l.array.push([a[f][0],a[f][1]])}else throw Error(N+"Expected Array of Number or Array of pair of Number");return i?l.sign=Number(i):l.sign=1,l.normalize(),l},s.fromObject=function(r){if(typeof r!="object")throw Error(N+"Expected Object");if(r===null)return n.ZERO.clone();if(r instanceof Array)return n.fromArray(r);if(r instanceof n)return new n(r);if(!(r.array instanceof Array))throw Error(N+"Expected that property 'array' exists");if(r.sign!==void 0&&typeof r.sign!="number")throw Error(N+"Expected that property 'sign' is Number");if(r.layer!==void 0&&typeof r.layer!="number")throw Error(N+"Expected that property 'layer' is Number");return n.fromArray(r.array,r.sign,r.layer)},s.fromJSON=function(r){if(typeof r=="object")return n.fromObject(e);if(typeof r!="string")throw Error(N+"Expected String");var e,t;try{e=JSON.parse(r)}catch(a){throw e=null,a}finally{t=n.fromObject(e)}return e=null,t},s.fromHyperE=function(r){if(typeof r!="string")throw Error(N+"Expected String");var e=new n;if(e.array=[[0,0]],!/^[-\+]*(0|[1-9]\d*(\.\d*)?|Infinity|NaN|E[1-9]\d*(\.\d*)?(#[1-9]\d*)*)$/.test(r))return console.warn(w+"Malformed input: "+r),e.array=[[0,NaN]],e;var t=!1;if(r[0]=="-"||r[0]=="+"){var a=r.search(/[^-\+]/),i=r.substring(0,a);t=i.match(/-/g).length%2===0,r=r.substring(a)}if(r=="NaN")e.array=[[0,NaN]];else if(r=="Infinity")e.array=[[0,1/0]];else if(r[0]!="E")e.array[0][1]=Number(r);else if(r.indexOf("#")==-1)e.array[0][1]=Number(r.substring(1)),e.array[1]=[1,1];else for(var l=r.substring(1).split("#"),f=0;f<l.length;++f){var u=Number(l[f]);f>=2&&--u,e.array[f]=[f,u]}return t&&(e.sign*=-1),e.normalize(),e},o.getOperatorIndex=function(r){if(typeof r!="number"&&(r=Number(r)),!isFinite(r))throw Error(N+"Index out of range.");var e=this.array,t=0,a=e.length-1;if(e[a][0]<r)return a+.5;if(e[t][0]>r)return-.5;for(;t!=a;){if(e[t][0]==r)return t;if(e[a][0]==r)return a;var i=Math.floor((t+a)/2);if(t==i||e[i][0]==r){t=i;break}e[i][0]<r&&(t=i),e[i][0]>r&&(a=i)}return e[t][0]==r?t:t+.5},o.getOperator=function(r){if(typeof r!="number"&&(r=Number(r)),!isFinite(r))throw Error(N+"Index out of range.");var e=this.getOperatorIndex(r);return Number.isInteger(e)?this.array[e][1]:r===0?10:0},o.setOperator=function(r,e){if(typeof r!="number"&&(r=Number(r)),!isFinite(r))throw Error(N+"Index out of range.");var t=this.getOperatorIndex(r);Number.isInteger(t)?this.array[t][1]=e:(t=Math.ceil(t),this.array.splice(t,0,[r,e])),this.normalize()},o.operator=function(r,e){if(e===void 0)return this.getOperator(r);this.setOperator(r,e)},o.clone=function(){for(var r=new n,e=[],t=0;t<this.array.length;++t)e.push([this.array[t][0],this.array[t][1]]);return r.array=e,r.sign=this.sign,r.layer=this.layer,r};function L(r){var e,t,a;function i(f,u){var g=this;if(!(g instanceof i))return new i(f,u);g.constructor=i;var y=null;if(typeof f=="string"&&(f[0]=="["||f[0]=="{"))try{y=JSON.parse(f)}catch{}var c,h,_;if(typeof f=="number"&&!(u instanceof Array))c=i.fromNumber(f);else if(typeof f=="bigint")c=i.fromBigInt(f);else if(y)c=i.fromObject(y);else if(typeof f=="string"&&f[0]=="E")c=i.fromHyperE(f);else if(typeof f=="string")c=i.fromString(f);else if(f instanceof Array||u instanceof Array)c=i.fromArray(f,u);else if(f instanceof i){c=[];for(var I=0;I<f.array.length;++I)c.push([f.array[I][0],f.array[I][1]]);h=f.sign,_=f.layer}else typeof f=="object"?c=i.fromObject(f):(c=[[0,NaN]],h=1,_=0);return typeof h>"u"?(g.array=c.array,g.sign=c.sign,g.layer=c.layer):(g.array=c,g.sign=h,g.layer=_),g}i.prototype=o,i.JSON=0,i.STRING=1,i.NONE=0,i.NORMAL=1,i.ALL=2,i.clone=L,i.config=i.set=V;for(var l in s)s.hasOwnProperty(l)&&(i[l]=s[l]);if(r===void 0&&(r={}),r)for(a=["maxOps","serializeMode","debug"],e=0;e<a.length;)r.hasOwnProperty(t=a[e++])||(r[t]=this[t]);return i.config(r),i}function D(r){for(var e in m)m.hasOwnProperty(e)&&(Object.defineProperty?Object.defineProperty(r,e,{configurable:!1,enumerable:!0,writable:!1,value:new n(m[e])}):r[e]=new n(m[e]));return r}function V(r){if(!r||typeof r!="object")throw Error(w+"Object expected");var e,t,a,i=["maxOps",1,Number.MAX_SAFE_INTEGER,"serializeMode",0,1,"debug",0,2];for(e=0;e<i.length;e+=3)if((a=r[t=i[e]])!==void 0)if(Math.floor(a)===a&&a>=i[e+1]&&a<=i[e+2])this[t]=a;else throw Error(N+t+": "+a);return this}n=L(n),n=D(n),n.default=n.ExpantaNum=n,typeof define=="function"&&define.amd?define(function(){return n}):typeof R<"u"&&R.exports?R.exports=n:(v||(v=typeof self<"u"&&self&&self.self==self?self:Function("return this")()),v.ExpantaNum=n)})(void 0);const b={alphaone:new ExpantaNum("1")},A="exponentialtower_savefile";function P(v,n){for(const w in n){const N=n[w];if(typeof N=="object"&&N!==null){const d=v[w];w in v||(v[w]=Array.isArray(N)?[]:{}),typeof d=="object"&&d!==null&&P(d,N)}else v[w]=N}}function H(){localStorage.setItem(A,JSON.stringify(b))}function k(){const v=localStorage.getItem(A);if(v===null)return;const n=JSON.parse(v);P(b,n)}function Q(){localStorage.removeItem(A)}const X=new Map;function T(v){const n=X.get(v);if(n!==void 0)return n;const w=document.getElementById(v);if(w===null)throw new Error(`Element ${v} is null.`);return X.set(v,w),w}k();function W(v){return v.toStringWithDecimalPlaces(3)}T("doubleaone").onclick=()=>{b.alphaone=b.alphaone.times(2)};setInterval(()=>{},100);setInterval(()=>{T("alphaonetext").innerHTML=`You have ${W(b.alphaone)} α<sub>1</sub>`},100);setInterval(()=>{H()},4e3);T("wipesave").onclick=()=>{Q()}});export default $();
